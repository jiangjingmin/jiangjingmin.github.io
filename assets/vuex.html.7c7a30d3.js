import{_ as i,o as e,c as o,a as s,F as c,f as l,e as u,d as n,t as r}from"./app.cec2e512.js";var k="/assets/vuex_01.0ea06afc.png",d="/assets/vuex_02.c2926691.png",m="/assets/vuex_03.b03a367e.png",b="/assets/vuex_04.c52245c3.png",g="/assets/vuex_05.2afce8e3.png";const y={},h=u('<h1 id="vuex" tabindex="-1"><a class="header-anchor" href="#vuex" aria-hidden="true">#</a> Vuex</h1><h2 id="\u4E00-\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#\u4E00-\u662F\u4EC0\u4E48" aria-hidden="true">#</a> \u4E00. \u662F\u4EC0\u4E48</h2><p>Vuex\u662F\u4E00\u4E2A\u4E13\u95E8\u4E3AVue.js\u5E94\u7528\u7A0B\u5E8F\u5F00\u53D1\u7684\u72B6\u6001\u7BA1\u7406\u6A21\u5F0F, \u5B83\u91C7\u7528\u96C6\u4E2D\u5F0F\u5B58\u50A8\u7BA1\u7406\u6240\u6709\u7EC4\u4EF6\u7684\u516C\u5171\u72B6\u6001, \u5E76\u4EE5\u76F8\u5E94\u7684\u89C4\u5219\u4FDD\u8BC1\u72B6\u6001\u4EE5\u4E00\u79CD\u53EF\u9884\u6D4B\u7684\u65B9\u5F0F\u53D1\u751F\u53D8\u5316 <img src="'+k+'" alt="01"> \u4E0A\u56FE\u4E2D\u7EFF\u8272\u865A\u7EBF\u5305\u88F9\u8D77\u6765\u7684\u90E8\u5206\u5C31\u662FVuex\u7684\u6838\u5FC3, state\u4E2D\u4FDD\u5B58\u7684\u5C31\u662F\u516C\u5171\u72B6\u6001, \u6539\u53D8state\u7684\u552F\u4E00\u65B9\u5F0F\u5C31\u662F\u901A\u8FC7mutations\u8FDB\u884C\u66F4\u6539. \u53EF\u80FD\u4F60\u73B0\u5728\u770B\u8FD9\u5F20\u56FE\u6709\u70B9\u4E0D\u660E\u767D, \u7B49\u7ECF\u8FC7\u672C\u6587\u7684\u89E3\u91CA\u548C\u6848\u4F8B\u6F14\u793A, \u518D\u56DE\u6765\u770B\u8FD9\u5F20\u56FE, \u76F8\u4FE1\u4F60\u4F1A\u6709\u66F4\u597D\u7684\u7406\u89E3</p><h2 id="\u4E8C-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528vuex" tabindex="-1"><a class="header-anchor" href="#\u4E8C-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528vuex" aria-hidden="true">#</a> \u4E8C. \u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528Vuex?</h2><p>\u8BD5\u60F3\u8FD9\u6837\u7684\u573A\u666F, \u6BD4\u5982\u4E00\u4E2AVue\u7684\u6839\u5B9E\u4F8B\u4E0B\u9762\u6709\u4E00\u4E2A\u6839\u7EC4\u4EF6\u540D\u4E3AApp.vue, \u5B83\u4E0B\u9762\u6709\u4E24\u4E2A\u5B50\u7EC4\u4EF6A.vue\u548CB.vue, App.vue\u60F3\u8981\u4E0EA.vue\u6216\u8005B.vue\u901A\u8BAF\u53EF\u4EE5\u901A\u8FC7props\u4F20\u503C\u7684\u65B9\u5F0F, \u4F46\u662F\u5982\u679CA.vue\u548CB.vue\u4E4B\u95F4\u7684\u901A\u8BAF\u5C31\u5F88\u9EBB\u70E6\u4E86, \u4ED6\u4EEC\u9700\u8981\u5171\u6709\u7684\u7236\u7EC4\u4EF6\u901A\u8FC7\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u8FDB\u884C\u5B9E\u73B0, A\u7EC4\u4EF6\u60F3\u8981\u548CB\u7EC4\u4EF6\u901A\u8BAF\u5F80\u5F80\u662F\u8FD9\u6837\u7684: <img src="'+d+`" alt="01"> \u25CF A\u7EC4\u4EF6\u8BF4: &quot;\u62A5\u544A\u8001\u5927, \u80FD\u5426\u5E2E\u6211\u6258\u4E2A\u4FE1\u7ED9\u5C0F\u5F1FB&quot; =&gt; dispatch\u4E00\u4E2A\u4E8B\u4EF6\u7ED9App \u25CF App\u8001\u5927\u8BF4: &quot;\u5305\u5728\u6211\u8EAB\u4E0A, \u5B83\u9700\u8981\u76D1\u542CA\u7EC4\u4EF6\u7684dispatch\u7684\u65F6\u95F4, \u540C\u65F6\u9700\u8981broadcast\u4E00\u4E2A\u4E8B\u4EF6\u7ED9B\u7EC4\u4EF6&quot; \u25CF B\u5C0F\u5F1F\u8BF4: &quot;\u4FE1\u606F\u5DF2\u6536\u5230&quot;, \u5B83\u9700\u8981on\u76D1\u542CApp\u7EC4\u4EF6\u5206\u53D1\u7684\u4E8B\u4EF6 \u8FD9\u53EA\u662F\u4E00\u6761\u901A\u8BAF\u8DEF\u5F84, \u5982\u679C\u7236\u7EC4\u4EF6\u4E0B\u6709\u591A\u4E2A\u5B50\u7EC4\u4EF6, \u5B50\u7EC4\u4EF6\u4E4B\u95F4\u901A\u8BAF\u7684\u8DEF\u5F84\u5C31\u4F1A\u53D8\u7684\u5F88\u7E41\u7410, \u7236\u7EC4\u4EF6\u9700\u8981\u76D1\u542C\u5927\u91CF\u7684\u4E8B\u4EF6, \u8FD8\u9700\u8981\u8D1F\u8D23\u5206\u53D1\u7ED9\u4E0D\u540C\u7684\u5B50\u7EC4\u4EF6, \u5F88\u663E\u7136\u8FD9\u5E76\u4E0D\u662F\u6211\u4EEC\u60F3\u8981\u7684\u7EC4\u4EF6\u5316\u7684\u5F00\u53D1\u4F53\u9A8C. Vuex\u5C31\u662F\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E00\u95EE\u9898\u51FA\u73B0\u7684</p><h2 id="\u4E09-\u5982\u4F55\u5F15\u5165vuex" tabindex="-1"><a class="header-anchor" href="#\u4E09-\u5982\u4F55\u5F15\u5165vuex" aria-hidden="true">#</a> \u4E09.\u5982\u4F55\u5F15\u5165Vuex?</h2><ol><li>\u4E0B\u8F7Dvuex: npm install vuex --save</li><li>\u5728main.js\u6DFB\u52A0:</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span> Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span> Vuex <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">//\u5F85\u6DFB\u52A0 }) new Vue({ el: &#39;#app&#39;, store, render: h =&gt; h(App) })</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="\u56DB-vuex\u7684\u6838\u5FC3\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#\u56DB-vuex\u7684\u6838\u5FC3\u6982\u5FF5" aria-hidden="true">#</a> \u56DB. Vuex\u7684\u6838\u5FC3\u6982\u5FF5?</h2><p>\u5728\u4ECB\u7ECDVuex\u7684\u6838\u5FC3\u6982\u5FF5\u4E4B\u524D, \u6211\u5148\u521D\u59CB\u5316\u4E86\u4E00\u4E2Ademo, \u51C6\u5907\u4EE5\u4EE3\u7801\u7684\u5F62\u5F0F\u6765\u8BF4\u660EVuex\u7684\u6838\u5FC3\u6982\u5FF5, \u8FD9\u4E2Ademo\u5206\u522B\u6709\u4E24\u4E2A\u7EC4\u4EF6ProductListOne.vue\u548CProductListTwo.vue, \u5728App.vue\u7684datat\u4E2D\u4FDD\u5B58\u7740\u5171\u6709\u7684\u5546\u54C1\u5217\u8868, \u4EE3\u7801\u548C\u521D\u59CB\u5316\u7684\u6548\u679C\u5982\u4E0B\u56FE\u6240\u793A: <img src="`+m+`" alt="01"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">// App.vue\u4E2D\u7684\u521D\u59CB\u5316\u4EE3\u7801 </span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>product<span class="token operator">-</span>list<span class="token operator">-</span>one v<span class="token operator">-</span>bind<span class="token operator">:</span>products<span class="token operator">=</span><span class="token string">&quot;products&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>product<span class="token operator">-</span>list<span class="token operator">-</span>one<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>product<span class="token operator">-</span>list<span class="token operator">-</span>two v<span class="token operator">-</span>bind<span class="token operator">:</span>products<span class="token operator">=</span><span class="token string">&quot;products&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>product<span class="token operator">-</span>list<span class="token operator">-</span>two<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> ProductListOne <span class="token keyword">from</span> <span class="token string">&#39;./components/ProductListOne.vue&#39;</span> 
  <span class="token keyword">import</span> ProductListTwo <span class="token keyword">from</span> <span class="token string">&#39;./components/ProductListTwo.vue&#39;</span> 
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;app&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;product-list-one&#39;</span><span class="token operator">:</span> ProductListOne<span class="token punctuation">,</span> <span class="token string-property property">&#39;product-list-two&#39;</span><span class="token operator">:</span> ProductListTwo <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u9F20\u6807&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u952E\u76D8&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u8033\u673A&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u663E\u793A\u5C4F&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
  body <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">555</span><span class="token punctuation">;</span>
    font<span class="token operator">-</span>family<span class="token operator">:</span> Ubuntu<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token comment">//ProductListOne.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;product-list-one&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Product List One<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;product in products&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> product<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;price&quot;</span><span class="token operator">&gt;</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> product<span class="token punctuation">.</span>price <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;products&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
  <span class="token punctuation">.</span>price <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #e8800c<span class="token punctuation">;</span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token comment">//ProductListTwo.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;product-list-two&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Product List Two<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;product in products&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> product<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;price&quot;</span><span class="token operator">&gt;</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> product<span class="token punctuation">.</span>price <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;products&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
  #product<span class="token operator">-</span>list<span class="token operator">-</span>two <span class="token punctuation">{</span>
    margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 30px<span class="token punctuation">;</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> 10px 20px<span class="token punctuation">;</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> #d1e4ff<span class="token punctuation">;</span>
    box<span class="token operator">-</span>shadow<span class="token operator">:</span> 1px 2px 3px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><h3 id="\u6838\u5FC3\u6982\u5FF51-state" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u6982\u5FF51-state" aria-hidden="true">#</a> \u6838\u5FC3\u6982\u5FF51: State</h3><p>state\u5C31\u662FVuex\u4E2D\u7684\u516C\u5171\u7684\u72B6\u6001, \u6211\u662F\u5C06state\u770B\u4F5C\u662F\u6240\u6709\u7EC4\u4EF6\u7684data, \u7528\u4E8E\u4FDD\u5B58\u6240\u6709\u7EC4\u4EF6\u7684\u516C\u5171\u6570\u636E. \u25CF \u6B64\u65F6\u6211\u4EEC\u5C31\u53EF\u4EE5\u628AApp.vue\u4E2D\u7684\u4E24\u4E2A\u7EC4\u4EF6\u5171\u540C\u4F7F\u7528\u7684data\u62BD\u79BB\u51FA\u6765, \u653E\u5230state\u4E2D,\u4EE3\u7801\u5982\u4E0B: //main.js import Vue from &#39;vue&#39; import App from &#39;./App.vue&#39; import Vuex from &#39;vuex&#39; Vue.use( Vuex ) const store = new Vuex.Store({ state:{ products: [ {name: &#39;\u9F20\u6807&#39;, price: 20}, {name: &#39;\u952E\u76D8&#39;, price: 40}, {name: &#39;\u8033\u673A&#39;, price: 60}, {name: &#39;\u663E\u793A\u5C4F&#39;, price: 80} ] } }) new Vue({ el: &#39;#app&#39;, store, render: h =&gt; h(App) }) \u6B64\u65F6,ProductListOne.vue\u548CProductListTwo.vue\u4E5F\u9700\u8981\u505A\u76F8\u5E94\u7684\u66F4\u6539 //ProductListOne.vue export default { data () { return { products : this.$store.state.products //\u83B7\u53D6store\u4E2Dstate\u7684\u6570\u636E } } } //ProductListTwo.vue export default { data () { return { products: this.$store.state.products //\u83B7\u53D6store\u4E2Dstate\u7684\u6570\u636E } } } \u6B64\u65F6\u7684\u9875\u9762\u5982\u4E0B\u56FE\u6240\u793A, \u53EF\u4EE5\u770B\u5230, \u5C06\u516C\u5171\u6570\u636E\u62BD\u79BB\u51FA\u6765\u540E, \u9875\u9762\u6CA1\u6709\u53D1\u751F\u53D8\u5316.</p><h3 id="\u6838\u5FC3\u6982\u5FF52-getters" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u6982\u5FF52-getters" aria-hidden="true">#</a> \u6838\u5FC3\u6982\u5FF52: Getters</h3><p>\u6211\u5C06getters\u5C5E\u6027\u7406\u89E3\u4E3A\u6240\u6709\u7EC4\u4EF6\u7684computed\u5C5E\u6027, \u4E5F\u5C31\u662F\u8BA1\u7B97\u5C5E\u6027. vuex\u7684\u5B98\u65B9\u6587\u6863\u4E5F\u662F\u8BF4\u5230\u53EF\u4EE5\u5C06getter\u7406\u89E3\u4E3Astore\u7684\u8BA1\u7B97\u5C5E\u6027, getters\u7684\u8FD4\u56DE\u503C\u4F1A\u6839\u636E\u5B83\u7684\u4F9D\u8D56\u88AB\u7F13\u5B58\u8D77\u6765\uFF0C\u4E14\u53EA\u6709\u5F53\u5B83\u7684\u4F9D\u8D56\u503C\u53D1\u751F\u4E86\u6539\u53D8\u624D\u4F1A\u88AB\u91CD\u65B0\u8BA1\u7B97\u3002 \u25CF \u6B64\u65F6,\u6211\u4EEC\u53EF\u4EE5\u5728main.js\u4E2D\u6DFB\u52A0\u4E00\u4E2Agetters\u5C5E\u6027, \u5176\u4E2D\u7684saleProducts\u5BF9\u8C61\u5C06state\u4E2D\u7684\u4EF7\u683C\u51CF\u5C11\u4E00\u534A(\u9664\u4EE52) //main.js const store = new Vuex.Store({ state:{ products: [ {name: &#39;\u9F20\u6807&#39;, price: 20}, {name: &#39;\u952E\u76D8&#39;, price: 40}, {name: &#39;\u8033\u673A&#39;, price: 60}, {name: &#39;\u663E\u793A\u5C4F&#39;, price: 80} ] }, getters:{ //\u6DFB\u52A0getters saleProducts: (state) =&gt; { let saleProducts = state.products.map( product =&gt; { return { name: product.name, price: product.price / 2 } }) return saleProducts; } } }) \u5C06productListOne.vue\u4E2D\u7684products\u7684\u503C\u66F4\u6362\u4E3Athis.$store.getters.saleProducts export default { data () { return { products : this.$store.getters.saleProducts } } } \u73B0\u5728\u7684\u9875\u9762\u4E2D,Product List One\u4E2D\u7684\u6BCF\u9879\u5546\u54C1\u7684\u4EF7\u683C\u90FD\u51CF\u5C11\u4E86\u4E00\u534A <img src="`+b+'" alt="01"></p><h3 id="\u6838\u5FC3\u6982\u5FF53-mutations" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u6982\u5FF53-mutations" aria-hidden="true">#</a> \u6838\u5FC3\u6982\u5FF53: Mutations</h3>',16),v=n("\u6211\u5C06mutaions\u7406\u89E3\u4E3Astore\u4E2D\u7684methods, mutations\u5BF9\u8C61\u4E2D\u4FDD\u5B58\u7740\u66F4\u6539\u6570\u636E\u7684\u56DE\u8C03\u51FD\u6570,\u8BE5\u51FD\u6570\u540D\u5B98\u65B9\u89C4\u5B9A\u53EBtype, \u7B2C\u4E00\u4E2A\u53C2\u6570\u662Fstate, \u7B2C\u4E8C\u53C2\u6570\u662Fpayload, \u4E5F\u5C31\u662F\u81EA\u5B9A\u4E49\u7684\u53C2\u6570. \u25CF \u4E0B\u9762,\u6211\u4EEC\u5728main.js\u4E2D\u6DFB\u52A0mutations\u5C5E\u6027,\u5176\u4E2DminusPrice\u8FD9\u4E2A\u56DE\u8C03\u51FD\u6570\u7528\u4E8E\u5C06\u5546\u54C1\u7684\u4EF7\u683C\u51CF\u5C11payload\u8FD9\u4E48\u591A, \u4EE3\u7801\u5982\u4E0B: //main.js const store = new Vuex.Store({ state:{ products: [ {name: '\u9F20\u6807', price: 20}, {name: '\u952E\u76D8', price: 40}, {name: '\u8033\u673A', price: 60}, {name: '\u663E\u793A\u5C4F', price: 80} ] }, getters:{ saleProducts: (state) => { let saleProducts = state.products.map( product => { return { name: product.name, price: product.price / 2 } }) return saleProducts; } }, mutations:{ //\u6DFB\u52A0mutations minusPrice (state, payload ) { let newPrice = state.products.forEach( product => { product.price -= payload }) } } }) \u5728ProductListTwo.vue\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u6309\u94AE,\u4E3A\u5176\u6DFB\u52A0\u4E00\u4E2A\u70B9\u51FB\u4E8B\u4EF6, \u7ED9\u70B9\u51FB\u4E8B\u4EF6\u89E6\u53D1minusPrice\u65B9\u6CD5 //ProductListTwo.vue "),w={id:"product-list-two"},x=s("h2",null,"Product List Two",-1),f=n(),P={class:"name"},_=n(),A={class:"price"},q=n(),V=n(" //\u6DFB\u52A0\u6309\u94AE "),L=n(" \u5728ProductListTwo.vue\u4E2D\u6CE8\u518CminusPrice\u65B9\u6CD5, \u5728\u8BE5\u65B9\u6CD5\u4E2Dcommitmutations\u4E2D\u7684minusPrice\u8FD9\u4E2A\u56DE\u8C03\u51FD\u6570 \u6CE8\u610F:\u8C03\u7528mutaions\u4E2D\u56DE\u8C03\u51FD\u6570, \u53EA\u80FD\u4F7F\u7528store.commit(type, payload) //ProductListTwo.vue export default { data () { return { products: this.$store.state.products } }, methods: { minusPrice() { this.$store.commit('minusPrice', 2); //\u63D0\u4EA4`minusPrice,payload\u4E3A2 } } } \u6DFB\u52A0\u6309\u94AE, \u53EF\u4EE5\u53D1\u73B0, Product List Two\u4E2D\u7684\u4EF7\u683C\u51CF\u5C11\u4E862, \u5F53\u7136\u4F60\u53EF\u4EE5\u81EA\u5B9A\u4E49payload,\u4EE5\u6B64\u81EA\u5B9A\u4E49\u51CF\u5C11\u5BF9\u5E94\u7684\u4EF7\u683C. "),j=s("img",{src:g,alt:"01"},null,-1),$=n(" (Product List One\u4E2D\u7684\u4EF7\u683C\u6CA1\u53D8\u5316\uFF0C\u539F\u56E0\u662Fgetter \u76D1\u542C\u7684\u662Fmap\u65B9\u6CD5\u4EA7\u751F\u7684\u65B0\u5BF9\u8C61)"),T=s("h3",{id:"\u6838\u5FC3\u6982\u5FF54-actions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6838\u5FC3\u6982\u5FF54-actions","aria-hidden":"true"},"#"),n(" \u6838\u5FC3\u6982\u5FF54: Actions")],-1),N=s("p",null,"actions \u7C7B\u4F3C\u4E8E mutations\uFF0C\u4E0D\u540C\u5728\u4E8E\uFF1A \u25CF actions\u63D0\u4EA4\u7684\u662Fmutations\u800C\u4E0D\u662F\u76F4\u63A5\u53D8\u66F4\u72B6\u6001 \u25CF actions\u4E2D\u53EF\u4EE5\u5305\u542B\u5F02\u6B65\u64CD\u4F5C, mutations\u4E2D\u7EDD\u5BF9\u4E0D\u5141\u8BB8\u51FA\u73B0\u5F02\u6B65 \u25CF actions\u4E2D\u7684\u56DE\u8C03\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u662Fcontext, \u662F\u4E00\u4E2A\u4E0Estore\u5B9E\u4F8B\u5177\u6709\u76F8\u540C\u5C5E\u6027\u548C\u65B9\u6CD5\u7684\u5BF9\u8C61 \u25CF \u6B64\u65F6,\u6211\u4EEC\u5728store\u4E2D\u6DFB\u52A0actions\u5C5E\u6027, \u5176\u4E2DminusPriceAsync\u91C7\u7528setTimeout\u6765\u6A21\u62DF\u5F02\u6B65\u64CD\u4F5C,\u5EF6\u8FDF2s\u6267\u884C \u8BE5\u65B9\u6CD5\u7528\u4E8E\u5F02\u6B65\u6539\u53D8\u6211\u4EEC\u521A\u624D\u5728mutaions\u4E2D\u5B9A\u4E49\u7684minusPrice //main.js const store = new Vuex.Store({ state:{ products: [ {name: '\u9F20\u6807', price: 20}, {name: '\u952E\u76D8', price: 40}, {name: '\u8033\u673A', price: 60}, {name: '\u663E\u793A\u5C4F', price: 80} ] }, getters:{ saleProducts: (state) => { let saleProducts = state.products.map( product => { return { name: product.name, price: product.price / 2 } }) return saleProducts; } }, mutations:{ minusPrice (state, payload ) { let newPrice = state.products.forEach( product => { product.price -= payload }) } }, actions:{ //\u6DFB\u52A0actions minusPriceAsync( context, payload ) { setTimeout( () => { context.commit( 'minusPrice', payload ); //context\u63D0\u4EA4 }, 2000) } } }) \u5728ProductListTwo.vue\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u6309\u94AE,\u4E3A\u5176\u6DFB\u52A0\u4E00\u4E2A\u70B9\u51FB\u4E8B\u4EF6, \u7ED9\u70B9\u51FB\u4E8B\u4EF6\u89E6\u53D1minusPriceAsync\u65B9\u6CD5/",-1),B={id:"product-list-two"},O=s("h2",null,"Product List Two",-1),S=n(),M={class:"name"},U=n(),C={class:"price"},E=n(),F=n(),I=n(" //\u6DFB\u52A0\u6309\u94AE "),D=u(` \u5728ProductListTwo.vue\u4E2D\u6CE8\u518CminusPriceAsync\u65B9\u6CD5, \u5728\u8BE5\u65B9\u6CD5\u4E2Ddispatchactions\u4E2D\u7684minusPriceAsync\u8FD9\u4E2A\u56DE\u8C03\u51FD\u6570 export default { data () { return { products: this.$store.state.products } }, methods: { minusPrice() { this.$store.commit(&#39;minusPrice&#39;, 2); }, minusPriceAsync() { this.$store.dispatch(&#39;minusPriceAsync&#39;, 5); //\u5206\u53D1actions\u4E2D\u7684minusPriceAsync\u8FD9\u4E2A\u5F02\u6B65\u51FD\u6570 } } } \u6DFB\u52A0\u6309\u94AE, \u53EF\u4EE5\u53D1\u73B0, Product List Two\u4E2D\u7684\u4EF7\u683C\u5EF6\u8FDF2s\u540E\u51CF\u5C11\u4E865 <h3 id="\u6838\u5FC3\u6982\u5FF55-modules" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u6982\u5FF55-modules" aria-hidden="true">#</a> \u6838\u5FC3\u6982\u5FF55: Modules</h3><p>\u7531\u4E8E\u4F7F\u7528\u5355\u4E00\u72B6\u6001\u6811\uFF0C\u5E94\u7528\u7684\u6240\u6709\u72B6\u6001\u4F1A\u96C6\u4E2D\u5230\u4E00\u4E2A\u6BD4\u8F83\u5927\u7684\u5BF9\u8C61\u3002\u5F53\u5E94\u7528\u53D8\u5F97\u975E\u5E38\u590D\u6742\u65F6\uFF0Cstore \u5BF9\u8C61\u5C31\u6709\u53EF\u80FD\u53D8\u5F97\u76F8\u5F53\u81C3\u80BF\u3002\u4E3A\u4E86\u89E3\u51B3\u4EE5\u4E0A\u95EE\u9898\uFF0CVuex \u5141\u8BB8\u6211\u4EEC\u5C06 store \u5206\u5272\u6210\u6A21\u5757\uFF08module\uFF09\u3002\u6BCF\u4E2A\u6A21\u5757\u62E5\u6709\u81EA\u5DF1\u7684 state\u3001mutation\u3001action\u3001getter\u3001\u751A\u81F3\u662F\u5D4C\u5957\u5B50\u6A21\u5757\u2014\u2014\u4ECE\u4E0A\u81F3\u4E0B\u8FDB\u884C\u540C\u6837\u65B9\u5F0F\u7684\u5206\u5272 const moduleA = { state: { ... }, mutations: { ... }, actions: { ... }, getters: { ... } } const moduleB = { state: { ... }, mutations: { ... }, actions: { ... } } const store = new Vuex.Store({ modules: { a: moduleA, b: moduleB } }) store.state.a // -&gt; moduleA \u7684\u72B6\u6001 store.state.b // -&gt; moduleB \u7684\u72B6\u6001</p><h2 id="vuex\u5F02\u6B65\u8BF7\u6C42\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#vuex\u5F02\u6B65\u8BF7\u6C42\u6570\u636E" aria-hidden="true">#</a> Vuex\u5F02\u6B65\u8BF7\u6C42\u6570\u636E</h2><p>Vuex\u5F02\u6B65\u8BF7\u6C42\u6570\u636E\u540E,\u5728\u7EC4\u4EF6\u4E2D\u83B7\u53D6\u72B6\u6001\u7684\u65B9\u6CD5</p><p>Vuex\u5B98\u65B9\u4E2D\u63D0\u5230\uFF1A</p><p>\u6211\u4EEC\u5982\u4F55\u5728 Vue \u7EC4\u4EF6\u4E2D\u5C55\u793A\u72B6\u6001\u5462\uFF1F\u7531\u4E8E Vuex \u7684\u72B6\u6001\u5B58\u50A8\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4ECE store \u5B9E\u4F8B\u4E2D\u8BFB\u53D6\u72B6\u6001\u6700\u7B80\u5355\u7684\u65B9\u6CD5\u5C31\u662F\u5728\u8BA1\u7B97\u5C5E\u6027\u4E2D\u8FD4\u56DE\u67D0\u4E2A\u72B6\u6001</p><p>\u5373\u5982\u4E0B\u65B9\u6CD5\uFF0C\u9875\u9762\u6B63\u5E38\u66F4\u65B0\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">userAva</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userAva<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">userName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u4F46\u662F\u8FD9\u91CC\u6709\u4E00\u4E2A\u7591\u95EE\uFF0C\u4E3A\u4EC0\u4E48\u83B7\u53D6\u56DE\u6765\u7684\u6570\u636E\u8981\u81EA\u52A8\u66F4\u65B0\u5230\u8BE5\u7EC4\u4EF6\u5185\uFF0C\u9700\u8981\u4F7F\u7528computed\u6765\u8BA1\u7B97\u66F4\u65B0\u5462\uFF1F\u5982\u679C\u76F4\u63A5\u8D4B\u503C\u7ED9data\u4F1A\u5982\u4F55\uFF1F \u4E0B\u9762\u6211\u4EEC\u4FEE\u6539\u4EE3\u7801\uFF0C\u5C1D\u8BD5\u76F4\u63A5\u4FEE\u6539data\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">userName</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userName<span class="token punctuation">,</span>
        <span class="token literal-property property">userAva</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userAva
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//.......</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5728\u9875\u9762\u5237\u65B0\u7684\u65F6\u5019\uFF0C\u53D1\u9001\u6570\u636E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;getLocalMes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//getLocalMes stroe\u4E2D\u6CE8\u518C\u7684\u65B9\u6CD5</span>
<span class="token punctuation">}</span>


<span class="token literal-property property">store</span><span class="token operator">:</span>
<span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">userName</span><span class="token operator">:</span><span class="token string">&quot;\u672A\u767B\u5F55&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">userAva</span><span class="token operator">:</span><span class="token string">&quot;assets/image/defaultAva.jpg&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">getLocalMes</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">const</span> storage<span class="token operator">=</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">;</span>
       <span class="token keyword">let</span> loginUser <span class="token operator">=</span>
       <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>storage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;userInfo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span>loginUser<span class="token punctuation">)</span><span class="token punctuation">{</span>
          state<span class="token punctuation">.</span>userName <span class="token operator">=</span> loginUser<span class="token punctuation">.</span>loginName<span class="token punctuation">;</span>
          state<span class="token punctuation">.</span>userAva <span class="token operator">=</span> loginUser<span class="token punctuation">.</span>loginNav<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token literal-property property">template</span><span class="token operator">:</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;listAva&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>img v<span class="token operator">-</span>bind<span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;userAva&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;userName&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>userName<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>\u4FEE\u6539\u4EE3\u7801\u540E\u5237\u65B0\u9875\u9762\uFF0C\u53D1\u73B0\u9875\u9762\u5E76\u672A\u663E\u793A\u66F4\u65B0\u5230\u6570\u636E\uFF0C\u800C\u662F\u53D6\u7684\u9ED8\u8BA4state\u91CC\u9762\u7684\u503C\u3002 \u5728getLocalMes\u65B9\u6CD5\u4E2D\u589E\u52A0log\uFF0C\u53D1\u73B0\u9875\u9762\u66F4\u65B0\u65F6\uFF0C\u89E6\u53D1\u4E86\u65B9\u6CD5\uFF01\u4F46\u662F\u4E3A\u4EC0\u4E48\u6570\u636E\u5E76\u6CA1\u6709\u66F4\u65B0\u5462\uFF1F \u539F\u56E0\u662F\uFF0C\u5728mounted\u7684\u65F6\u5019\uFF0C\u9875\u9762\u91CD\u65B0\u6E32\u67D3\uFF0C\u800Cstore\u91CC\u9762\u7684state\u6570\u636E\u4E5F\u540C\u65F6\u66F4\u65B0\u3002\u6240\u4EE5\u6211\u4EEC\u6CA1\u6709\u529E\u6CD5\u4FDD\u8BC1\uFF0C\u5728\u9875\u9762\u52A0\u8F7D\u5B8C\u7684\u65F6\u5019\uFF0Cdata\u4E2DuserName:this.$store.state.userName,userAva: this.$store.state.userAva\uFF0C\u88AB\u8D4B\u7684\u503C\u662F\u9ED8\u8BA4\u7684\uFF0C\u8FD8\u662F\u66F4\u65B0\u4E4B\u540E\u7684\u3002</p><p>\u7531\u6B64\uFF0C\u6211\u4EEC\u4FEE\u6539\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">userName</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">userAva</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token literal-property property">mounted</span><span class="token operator">:</span>
<span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;getLocalMes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userAva <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userAva<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>\u5237\u65B0\u9875\u9762\uFF0C\u6570\u636E\u6B63\u5E38\u66F4\u65B0\uFF01 vue\u4E2D\u63D0\u4F9B$nextTick()\u5F02\u6B65\u52A0\u8F7D\u65B9\u6CD5\uFF0C\u4EE3\u66FFsetTimeout()</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;getLocalMes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userAva <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userAva<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5230\u8FD9\u91CC\u8FD8\u6709\u4E00\u4E2A\u7591\u95EE\uFF0C\u4E3A\u4EC0\u4E48\u4F7F\u7528computed\u6765\u8BA1\u7B97\u66F4\u65B0\uFF0C\u5C31\u53EF\u4EE5\u5C06\u83B7\u53D6\u56DE\u6765\u7684\u6570\u636E\u8981\u81EA\u52A8\u66F4\u65B0\u5230\u8BE5\u7EC4\u4EF6\u5185\uFF1F \u4F17\u91CC\u5BFB\u4ED6\u5343\u767E\u5EA6\u4E4B\u540E\uFF0C\u627E\u5230\u5982\u4E0B\u89E3\u91CA\uFF08\u539F\u6587\u94FE\u63A5\uFF09\uFF1A</p><p>\u8BA1\u7B97\u5C5E\u6027\u662F\u57FA\u4E8E\u5B83\u7684\u4F9D\u8D56\u7F13\u5B58\u7684\u3002\u8BA1\u7B97\u5C5E\u6027\u5728\u5B83\u7684\u76F8\u5173\u4F9D\u8D56\u53D1\u751F\u6539\u53D8\u65F6\u4F1A\u91CD\u65B0\u53D6\u503C\uFF0C\u6240\u4EE5\u6570\u636E\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u8BA1\u7B97\u5C5E\u6027\u7684\u503C\u4F1A\u8FDB\u884C\u66F4\u65B0\uFF0C\u76F8\u5173\u7684\u6A21\u677F\u5F15\u7528\u4E5F\u4F1A\u91CD\u65B0\u6E32\u67D3\u3002</p><hr><p>\u603B\u7ED3\uFF1A\xA0Vuex\u5F02\u6B65\u8BF7\u6C42\u6570\u636E\u540E,\u5728\u7EC4\u4EF6\u4E2D\u83B7\u53D6\u72B6\u6001\u7684\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u901A\u8FC7computed \u8BA1\u7B97\u5C5E\u6027\u65B9\u5F0F\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u76F4\u63A5\u8D4B\u503C\u7684\u65B9\u5F0F\uFF0C\u4F46\u8981\u6CE8\u610F\u5728\u52A0\u8F7D\u5B8C\u4E4B\u540E\u8D4B\u503C\u3002</p>`,22);function G(p,t){return e(),o(c,null,[h,s("p",null,[v,s("template",null,[s("div",w,[x,f,s("ul",null,[(e(!0),o(c,null,l(p.products,a=>(e(),o("li",null,[s("span",P,r(a.name),1),_,s("span",A,"$"+r(a.price),1)]))),256)),q,s("button",{onClick:t[0]||(t[0]=(...a)=>p.minusPrice&&p.minusPrice(...a))},"\u51CF\u5C11\u4EF7\u683C"),V])])]),L,j,$]),T,N,s("template",null,[s("div",B,[O,S,s("ul",null,[(e(!0),o(c,null,l(p.products,a=>(e(),o("li",null,[s("span",M,r(a.name),1),U,s("span",C,"$"+r(a.price),1)]))),256)),E,s("button",{onClick:t[1]||(t[1]=(...a)=>p.minusPrice&&p.minusPrice(...a))},"\u51CF\u5C11\u4EF7\u683C"),F,s("button",{onClick:t[2]||(t[2]=(...a)=>p.minusPriceAsync&&p.minusPriceAsync(...a))},"\u5F02\u6B65\u51CF\u5C11\u4EF7\u683C"),I])])]),D],64)}var z=i(y,[["render",G],["__file","vuex.html.vue"]]);export{z as default};
